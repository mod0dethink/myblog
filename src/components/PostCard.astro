---
const { post } = Astro.props;
const date = post.data.date.toLocaleDateString('ja-JP');
const base = import.meta.env.BASE_URL;
---

<article class="card">
  <h3><a href={`${base}posts/${post.slug}/`}>{post.data.title}</a></h3>
  <div class="meta">
    <span>{date}</span>
    <span>カテゴリ: {post.data.category}</span>
  </div>
  {post.data.summary ? <p>{post.data.summary}</p> : null}
  {post.data.tags?.length ? (
    <div class="tag-list">
      {post.data.tags.map((tag) => (
        <a class="tag" href={`${base}tags/${encodeURIComponent(tag)}/`}>{tag}</a>
      ))}
    </div>
  ) : null}
</article>
